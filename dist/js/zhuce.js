"use strict";$(function(){var n="";function e(){n="";for(var e="0123456789zxcvbnmasdfghjklqwertyuiop",t=0;t<4;t++)n+=e.charAt(parseInt(Math.random()*e.length));return n}function t(){return"rgb("+parseInt(256*Math.random())+","+parseInt(256*Math.random())+","+parseInt(256*Math.random())+")"}$(".securityCode").html(e()),$(".securityCode").on("click",function(){$(".securityCode").html(e()),$(".securityCode").css("color",t())}),$(".huan").on("click",function(){$(".securityCode").html(e()),$(".securityCode").css("color",t())});var s=!1,a=!1,i=!1,r=!1;$(".input").keyup(function(){var e=$(this).val();e=$.trim(e),$(this).is("#phone")&&($.ajax({type:"get",url:"../api/zhuceverify.php",data:{name:e},async:!0,success:function(e){if(1!=e)return alert("用户已被注册"),s=!1}}),$(this).parent().remove("bianhei","bianred"),s=checkReg.tel(e)?($(this).parent().removeClass("bianred"),$(this).parent().addClass("bianhei"),$(this).parent().next().css("display","block"),$(this).parent().next().next().css("display","none"),!0):($(this).parent().removeClass("bianhei"),$(this).parent().addClass("bianred"),$(this).parent().next().css("display","none"),$(this).parent().next().next().html("请输入正确的手机号码"),$(this).parent().next().next().css("color","red"),$(this).parent().next().next().css("display","block"),!1)),$(this).is("#cipher")&&(a=checkReg.psweasy(e)?($(this).parent().removeClass("bianred"),$(this).parent().addClass("bianhei"),$(this).parent().next().css("display","block"),$(this).parent().next().next().css("display","none"),!0):($(this).parent().removeClass("bianhei"),$(this).parent().addClass("bianred"),$(this).parent().next().css("display","none"),$(this).parent().next().next().html("请输入字母开头无特殊符号的密码"),$(this).parent().next().next().css("color","red"),$(this).parent().next().next().css("display","block"),!1)),$(this).is("#verify")&&(i=$(this).val()===$("#cipher").val()?($(this).parent().removeClass("bianred"),$(this).parent().addClass("bianhei"),$(this).parent().next().css("display","block"),$(this).parent().next().next().css("display","none"),!0):($(this).parent().removeClass("bianhei"),$(this).parent().addClass("bianred"),$(this).parent().next().css("display","none"),$(this).parent().next().next().html("陛下真是日理万机啊"),$(this).parent().next().next().css("color","red"),$(this).parent().next().next().css("display","block"),!1)),$(this).is("#yanzhengma")&&(r=$(this).val()===$(".securityCode").html()?($(this).parent().next().next().next().css("display","block"),$(this).parent().removeClass("bianred"),$(this).parent().addClass("bianhei"),$(this).parent().next().next().next().next().css("display","none"),!0):($(this).parent().next().next().next().css("display","none"),$(this).parent().removeClass("bianhei"),$(this).parent().addClass("bianred"),$(this).parent().next().next().next().next().css("display","block"),!1))}),$("#btn").on("click",function(){if(s&&a&&i&&r){var e="name="+$("#phone").val()+"&mima="+$("#cipher").val()+"&time="+new Date;ajax("POST","../api/zhuce.php",e,function(e){console.log(e)}),location.href="../html/denglu.html"}})});